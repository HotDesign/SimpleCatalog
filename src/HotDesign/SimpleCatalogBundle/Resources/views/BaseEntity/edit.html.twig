{% extends 'SimpleCatalogBundle:Layouts:base.html.twig' %}
{% form_theme edit_form 'SimpleCatalogBundle:Form:fields.html.twig' %}

{% block title %} Editando {{ entity.title }} {% endblock %}

{% block content %}
<h2>{{ block('title') }}</h2>
{% include 'SimpleCatalogBundle:Layouts:flashes_messages.html.twig'%}

<form class="form-horizontal sc_form" action="{{ path('baseentity_update', { 'id': entity.id }) }}" method="post" {{ form_enctype(edit_form) }}>
    {{ form_widget(edit_form) }}
        <div class="form-actions">
            <input type="submit" class="btn btn-primary" value="Guardar">
            <button type="button" class="btn btn-danger" onclick="javascript:delete_form(this)">Borrar</button>
            <a href="{{ path('baseentity') }}" class="btn"><i class="icon-repeat"></i> Ir al Listado</a>
            <a href="{{ path('pic_gallery', { 'id_baseentity': entity.id }) }}" class="btn"><i class="icon-picture"></i> Ir a Imágenes</a>
        </div>
</form>

 <form action="{{ path('baseentity_delete', { 'id': entity.id }) }}" method="post"  id="delete_form">
    {{ form_widget(delete_form) }}
</form>




<script type="text/javascript">
    function delete_form() {
        var reply = confirm("¿ Estas seguro de que deseas borrar {{ entity.title }} ?");
        if (reply) {
            $('#delete_form').submit();
        }
    }
</script> 

{% endblock %}

{% block sidebar %}
        <div class="sc_actions">
            <a href="{{ path('baseentity_new') }}" class="btn btn-small btn-primary"><i class="icon-plus icon-white"></i> Nuevo Item</a>            
            <a href="{{ path('pic_gallery', { 'id_baseentity': entity.id }) }}" class="btn"><i class="icon-picture"></i> Ir a Imágenes</a>
        </div>
{% endblock %}